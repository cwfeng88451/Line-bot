# LINE AI 智能文案機器人（line-ai-bot）

這是一個可部署在 Render 的 LINE 機器人，能自動接收圖片，並產生社群風格的簡短文案。支援 VIP 制度、推薦連結、次數控制與管理指令。

---

## 功能簡介

- 使用者上傳圖片，即可獲得一則簡短文案。
- 免費用戶每日限制 3 次。
- 可透過推薦朋友獲得額外次數。
- 可升級 VIP，享無限次數。
- 管理者可設定 VIP、有獎勵次數。
- 自動查詢 OpenAI API 餘額，換算為台幣。
- 自動產生專屬推薦連結與分享文案。

---

## 使用者指令一覽

| 指令 | 說明 |
|------|------|
| 上傳圖片 | 自動產出一則文案，回覆目前剩餘次數。 |
| 功能 | 顯示使用者狀態與操作說明。 |
| 剩餘次數 | 顯示今日已使用與剩餘次數、額外推薦與獎勵次數。 |
| VIP | 顯示 VIP 收費與升級說明。 |
| 分享 | 顯示專屬推薦連結與分享文案。 |

---

## 管理者指令一覽

（請確認您已在程式中設定 `admin_id`）

| 指令格式 | 說明 |
|----------|------|
| 管理 增加獎勵 [user_id] [次數] | 幫指定用戶增加獎勵次數。 |
| 管理 設定VIP [user_id] [天數] | 幫用戶設定 VIP 有效天數。 |
| 管理 統計 | 顯示目前用戶數、總花費、OpenAI 餘額與估算剩餘可使用次數。 |

---

## 分享文案範例
這是一個超實用的圖片文案產生工具！
每天免費3次，只要上傳圖片，就會幫你產生漂亮的文案！

免費體驗連結：
https://你的LIFF網址?ref=你的用戶ID

---

## VIP 方案建議（人工客服開通）

| 方案 | 金額 | 天數 |
|------|------|------|
| 月費 | $100 | 30 天 |
| 季費 | $270 | 90 天（9折） |
| 半年 | $500 | 180 天（8折） |
| 年費 | $900 | 360 天（75折） |

---

## Render 部署教學（手機版）

1. 登入 [https://render.com](https://render.com)
2. 新增一個 Web Service
3. 選擇 Python 伺服器
4. 指定主檔為：`app.py`
5. 設定環境變數：
   - `LINE_CHANNEL_ACCESS_TOKEN`
   - `LINE_CHANNEL_SECRET`
   - `OPENAI_API_KEY`
   - `COST_PER_POST`（每篇文案的美金成本）
   - `BALANCE_TWD`（目前儲值餘額台幣）
6. 完成後複製 Webhook URL，貼到 LINE 開發者後台

---

## 後續擴充建議

- 支援 SQLite 或 Firebase 儲存用戶資料
- 支援自動 VIP 購買與付款
- 增加用戶排行榜 / 數據儀表板
- 推出多種文案風格選項