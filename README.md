# LINE AI 智能文案機器人專案 (line-ai-bot)

這是一個自動產生圖片文案的 LINE 機器人專案，整合 OpenAI GPT-4o 圖片辨識能力，能自動產生適合社群貼文（FB/IG）的標題與內文。

支援：
- 免費次數限制
- 推薦次數累計
- 獎勵次數管理
- VIP 機制
- 專屬分享連結
- 管理者專用指令
- 自動查 OpenAI 餘額，換算台幣，統計資訊

---

## 使用者操作指令

| 指令 | 說明 |
|------|------|
| 上傳圖片 | 自動產生 15 字內標題 + 40~50 字內文案。 |
| 功能 / 剩餘次數 | 查看今日使用狀態與剩餘次數。 |
| VIP | 查看 VIP 方案與付費方式。 |
| 分享 | 查看個人專屬推薦連結與分享文案。 |

---

## 管理者指令（限定 User ID）

| 指令格式 | 說明 |
|---------|------|
| 管理 增加獎勵 user_id 次數 | 增加指定用戶的獎勵次數。 |
| 管理 設定VIP user_id 天數 | 設定 VIP 會員天數。 |
| 管理 統計 | 顯示目前系統統計資訊（用戶數、累積產文次數、API 餘額等）。 |

---

## 系統統計資訊

每次管理者傳圖片或執行統計指令時，會自動帶出：

- 累積用戶數
- 累積文案產生次數
- 累積已花費金額（依每篇成本計算）
- OpenAI API 餘額（美金與台幣換算）
- 預估剩餘可產生文案篇數

---

## 分享文案範例

這是專屬你的圖片 AI 文案小幫手！

每天免費3次，傳圖片立即生成精美文案，幫助你輕鬆發文不再沒靈感。

點此體驗：
https://你的LIFF網址?ref=用戶ID

---

## VIP 方案收費參考（人工客服處理）

| 方案 | 金額 | 使用天數 |
|------|------|----------|
| 月費 | NT$100 | 30 天無限次數 |
| 季費 | NT$270 | 90 天（9折） |
| 半年 | NT$500 | 180 天（8折） |
| 年費 | NT$900 | 360 天（7.5折） |

---

## 獎勵次數（官方設定）

加入客服官方帳號 → 回覆【已加入客服】  
即可額外獲得獎勵次數 10 次。

---

## Render 手機版部署教學

1. 註冊 Render：https://render.com
2. 建立 New Web Service
3. 設定：
   - Build Command：空白
   - Start Command：自動執行 app.py
4. 上傳檔案：
   - app.py
   - requirements.txt
   - .env（自行建立填入你的金鑰）
5. 設定環境變數：
   - LINE_CHANNEL_ACCESS_TOKEN
   - LINE_CHANNEL_SECRET
   - OPENAI_API_KEY
   - COST_PER_POST（每篇成本）
   - BALANCE_TWD（目前台幣額度）
6. 完成後 Render 會產生網址
7. 將網址貼入 LINE 官方後台 Webhook 設定
8. 測試功能

---

## 營運建議

1. 初期以免費版每日3次吸引用戶。
2. 鼓勵用戶透過分享推薦好友。
3. VIP 為主力獲利來源，客服協助升級。
4. 持續優化文案產生邏輯與風格。
5. 未來可擴充：
   - 多風格文案選擇
   - 多平台貼文格式支援
   - 用戶排行榜、數據分析
   - 自動收款/付費機制串接（綠界 / TapPay）

---

## 檔案結構